{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState, useCallback } from \"react\";\nimport axios from \"axios\";\nimport { api } from \"../api\";\nexport const useFetch = () => {\n  _s();\n\n  const [response, setResponse] = useState([]);\n  const [loader, setLoader] = useState(false);\n  const [error, setError] = useState(null);\n\n  const _fetchWithParams = useCallback((query, page) => {\n    setLoader(true);\n    axios.get(api.images(query, page)).then(res => setResponse(res)).catch(error => setError(error)).finally(() => setLoader(false));\n  }, []);\n\n  useEffect(() => {\n    setLoader(true);\n    axios.get(api.images()).then(res => setResponse(res)).catch(error => setError(error)).finally(() => setLoader(false));\n  }, []);\n  const data = response && response.data && response.data.hits;\n  return {\n    data,\n    error,\n    loader,\n    _fetchWithParams\n  };\n};\n\n_s(useFetch, \"k4CN5vbQ1B38PmOfpRf7sqNm8/8=\");","map":{"version":3,"sources":["/Users/nataliasabadysh/Desktop/ReactLessons/lesson3/src/hook/useFetch.js"],"names":["useEffect","useState","useCallback","axios","api","useFetch","response","setResponse","loader","setLoader","error","setError","_fetchWithParams","query","page","get","images","then","res","catch","finally","data","hits"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,EAA8BC,WAA9B,QAAiD,OAAjD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,GAAT,QAAoB,QAApB;AAEA,OAAO,MAAMC,QAAQ,GAAG,MAAM;AAAA;;AAC5B,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BN,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACO,MAAD,EAASC,SAAT,IAAsBR,QAAQ,CAAC,KAAD,CAApC;AACA,QAAM,CAACS,KAAD,EAAQC,QAAR,IAAoBV,QAAQ,CAAC,IAAD,CAAlC;;AAEA,QAAMW,gBAAgB,GAAGV,WAAW,CAAC,CAACW,KAAD,EAAQC,IAAR,KAAiB;AACpDL,IAAAA,SAAS,CAAC,IAAD,CAAT;AACAN,IAAAA,KAAK,CACFY,GADH,CACOX,GAAG,CAACY,MAAJ,CAAWH,KAAX,EAAkBC,IAAlB,CADP,EAEGG,IAFH,CAESC,GAAD,IAASX,WAAW,CAACW,GAAD,CAF5B,EAGGC,KAHH,CAGUT,KAAD,IAAWC,QAAQ,CAACD,KAAD,CAH5B,EAIGU,OAJH,CAIW,MAAMX,SAAS,CAAC,KAAD,CAJ1B;AAKD,GAPmC,EAOjC,EAPiC,CAApC;;AASAT,EAAAA,SAAS,CAAC,MAAM;AACdS,IAAAA,SAAS,CAAC,IAAD,CAAT;AACAN,IAAAA,KAAK,CACFY,GADH,CACOX,GAAG,CAACY,MAAJ,EADP,EAEGC,IAFH,CAESC,GAAD,IAASX,WAAW,CAACW,GAAD,CAF5B,EAGGC,KAHH,CAGUT,KAAD,IAAWC,QAAQ,CAACD,KAAD,CAH5B,EAIGU,OAJH,CAIW,MAAMX,SAAS,CAAC,KAAD,CAJ1B;AAKD,GAPQ,EAON,EAPM,CAAT;AASA,QAAMY,IAAI,GAAGf,QAAQ,IAAIA,QAAQ,CAACe,IAArB,IAA6Bf,QAAQ,CAACe,IAAT,CAAcC,IAAxD;AAEA,SAAO;AACLD,IAAAA,IADK;AAELX,IAAAA,KAFK;AAGLF,IAAAA,MAHK;AAILI,IAAAA;AAJK,GAAP;AAMD,CA/BM;;GAAMP,Q","sourcesContent":["import { useEffect, useState, useCallback } from \"react\";\nimport axios from \"axios\";\nimport { api } from \"../api\";\n\nexport const useFetch = () => {\n  const [response, setResponse] = useState([]);\n  const [loader, setLoader] = useState(false);\n  const [error, setError] = useState(null);\n\n  const _fetchWithParams = useCallback((query, page) => {\n    setLoader(true);\n    axios\n      .get(api.images(query, page))\n      .then((res) => setResponse(res))\n      .catch((error) => setError(error))\n      .finally(() => setLoader(false));\n  }, []);\n\n  useEffect(() => {\n    setLoader(true);\n    axios\n      .get(api.images())\n      .then((res) => setResponse(res))\n      .catch((error) => setError(error))\n      .finally(() => setLoader(false));\n  }, []);\n\n  const data = response && response.data && response.data.hits;\n\n  return {\n    data,\n    error,\n    loader,\n    _fetchWithParams,\n  };\n};\n"]},"metadata":{},"sourceType":"module"}