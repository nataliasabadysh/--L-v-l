{"ast":null,"code":"import _regeneratorRuntime from\"/Users/nataliasabadysh/Desktop/ReactLessons/lesson3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/nataliasabadysh/Desktop/ReactLessons/lesson3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";// Core\nimport React from\"react\";import{useFormik}from\"formik\";import*as yup from\"yup\";import{Link,useHistory}from\"react-router-dom\";import{routers}from\"../../utils/routes\";// Instruments\nimport TextField from\"@material-ui/core/TextField\";import Button from\"@material-ui/core/Button\";import{Typography}from\"@mui/material\";import{logInUserAsync}from\"../../redux/auth/actions\";import{useDispatch,useSelector}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var validationSchema=yup.object({password:yup.string(\"Enter your name\").required(\"Name is required\"),email:yup.string(\"Enter your email\").email(\"Enter a valid email\").required(\"Email is required\")});var LogIn=function LogIn(){var dispatch=useDispatch();var errorMessage=useSelector(function(state){return state.auth.errorLogIn;});var history=useHistory();var formik=useFormik({initialValues:{email:\"nata@gmail.com\",password:\"12345678\"},validationSchema:validationSchema,onSubmit:function(){var _onSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!errorMessage){history.push(routers.NEWS.path);}dispatch(logInUserAsync(values));case 2:case\"end\":return _context.stop();}}},_callee);}));function onSubmit(_x){return _onSubmit.apply(this,arguments);}return onSubmit;}()});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h3\",children:\" Log in\"}),errorMessage&&errorMessage.message&&/*#__PURE__*/_jsxs(\"div\",{style:{border:\"1px solid red\",padding:10,margin:20},children:[errorMessage.message,/*#__PURE__*/_jsx(Link,{to:routers.SINGUP.path,children:\" Go to Sing Up page \"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:formik.handleSubmit,children:[/*#__PURE__*/_jsx(TextField,{fullWidth:true,id:\"password\",name:\"password\",label:\"Password\",type:\"password\",value:formik.values.password,onChange:formik.handleChange,error:formik.touched.password&&Boolean(formik.errors.password),helperText:formik.touched.password&&formik.errors.password}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,id:\"email\",name:\"email\",label:\"Email\",value:formik.values.email,onChange:formik.handleChange,error:formik.touched.email&&Boolean(formik.errors.email),helperText:formik.touched.email&&formik.errors.email}),/*#__PURE__*/_jsx(Button,{color:\"primary\",disabled:formik.isSubmitting,variant:\"contained\",fullWidth:true,type:\"submit\",style:{marginTop:20},children:\"Submit\"})]})]});};export default LogIn;","map":{"version":3,"sources":["/Users/nataliasabadysh/Desktop/ReactLessons/lesson3/src/pages/LogIn/LogIn.js"],"names":["React","useFormik","yup","Link","useHistory","routers","TextField","Button","Typography","logInUserAsync","useDispatch","useSelector","validationSchema","object","password","string","required","email","LogIn","dispatch","errorMessage","state","auth","errorLogIn","history","formik","initialValues","onSubmit","values","push","NEWS","path","message","border","padding","margin","SINGUP","handleSubmit","handleChange","touched","Boolean","errors","isSubmitting","marginTop"],"mappings":"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","sourcesContent":["// Core\nimport React from \"react\";\nimport { useFormik } from \"formik\";\nimport * as yup from \"yup\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { routers } from \"../../utils/routes\";\n\n// Instruments\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\n\nimport { Typography } from \"@mui/material\";\nimport { logInUserAsync } from \"../../redux/auth/actions\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nconst validationSchema = yup.object({\n  password: yup.string(\"Enter your name\").required(\"Name is required\"),\n  email: yup\n    .string(\"Enter your email\")\n    .email(\"Enter a valid email\")\n    .required(\"Email is required\"),\n});\n\nconst LogIn = () => {\n  const dispatch = useDispatch();\n  const errorMessage = useSelector((state) => state.auth.errorLogIn);\n  const history = useHistory();\n  \n  const formik = useFormik({\n    initialValues: {\n      email: \"nata@gmail.com\",\n      password: \"12345678\",\n    },\n    validationSchema: validationSchema,\n    onSubmit: async (values) => {\n\n      if(!errorMessage){\n        history.push(routers.NEWS.path)\n      }\n    \n\n      dispatch(logInUserAsync(values));\n    },\n  });\n\n  return (\n    <div>\n      <Typography variant=\"h3\"> Log in</Typography>\n\n      {errorMessage && errorMessage.message && (\n        <div style={{ border: \"1px solid red\", padding: 10, margin: 20 }}>\n          {errorMessage.message}\n          <Link to={routers.SINGUP.path}> Go to Sing Up page </Link>\n        </div>\n      )}\n\n      <form onSubmit={formik.handleSubmit}>\n        <TextField\n          fullWidth\n          id=\"password\"\n          name=\"password\"\n          label=\"Password\"\n          type=\"password\"\n          value={formik.values.password}\n          onChange={formik.handleChange}\n          error={formik.touched.password && Boolean(formik.errors.password)}\n          helperText={formik.touched.password && formik.errors.password}\n        />\n\n        <TextField\n          fullWidth\n          id=\"email\"\n          name=\"email\"\n          label=\"Email\"\n          value={formik.values.email}\n          onChange={formik.handleChange}\n          error={formik.touched.email && Boolean(formik.errors.email)}\n          helperText={formik.touched.email && formik.errors.email}\n        />\n\n        <Button\n          color=\"primary\"\n          disabled={formik.isSubmitting}\n          variant=\"contained\"\n          fullWidth\n          type=\"submit\"\n          style={{ marginTop: 20 }}\n        >\n          Submit\n        </Button>\n      </form>\n    </div>\n  );\n};\n\nexport default LogIn;\n"]},"metadata":{},"sourceType":"module"}