{"ast":null,"code":"import _regeneratorRuntime from\"/Users/nataliasabadysh/Desktop/ReactLessons/lesson3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/nataliasabadysh/Desktop/ReactLessons/lesson3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";// Core\nimport React from\"react\";import{useFormik}from\"formik\";import*as yup from\"yup\";import{Link,useLocation,useHistory}from\"react-router-dom\";import{routers}from\"../../utils/routes\";// Instruments\nimport TextField from\"@material-ui/core/TextField\";import Button from\"@material-ui/core/Button\";import{Typography}from\"@mui/material\";import{createUserAsync}from\"../../redux/auth/actions\";import{useDispatch,useSelector}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var validationSchema=yup.object({name:yup.string(\"Enter your name\").required(\"Name is required\"),email:yup.string(\"Enter your email\").email(\"Enter a valid email\").required(\"Email is required\"),password:yup.string(\"Enter your password\").min(8,\"Password should be of minimum 8 characters length\").required(\"Password is required\")});var SignUp=function SignUp(){var dispatch=useDispatch();var errorMessage=useSelector(function(state){return state.auth.errorSignUp;});var onSave=function onSave(values){dispatch(createUserAsync(values));if(!errorMessage){history.push(routers.NEWS.path);}};var history=useHistory();var formik=useFormik({initialValues:{email:\"nata@gmail.com\",name:\"Natasha\",password:\"12345678\"},validationSchema:validationSchema,onSubmit:function(){var _onSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:onSave(values);case 1:case\"end\":return _context.stop();}}},_callee);}));function onSubmit(_x){return _onSubmit.apply(this,arguments);}return onSubmit;}()});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h3\",children:\" Sign up\"}),errorMessage&&errorMessage.message&&/*#__PURE__*/_jsxs(\"div\",{style:{border:\"1px solid red\",padding:10,margin:20},children:[\" \",errorMessage.message,/*#__PURE__*/_jsx(Link,{to:routers.LOGIN.path,children:\" Go to LogIn page \"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:formik.handleSubmit,children:[/*#__PURE__*/_jsx(TextField,{fullWidth:true,id:\"name\",name:\"name\",label:\"Name\",value:formik.values.name,onChange:formik.handleChange,error:formik.touched.name&&Boolean(formik.errors.name),helperText:formik.touched.name&&formik.errors.name}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,id:\"email\",name:\"email\",label:\"Email\",value:formik.values.email,onChange:formik.handleChange,error:formik.touched.email&&Boolean(formik.errors.email),helperText:formik.touched.email&&formik.errors.email}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,id:\"password\",name:\"password\",label:\"Password\",type:\"password\",value:formik.values.password,onChange:formik.handleChange,error:formik.touched.password&&Boolean(formik.errors.password),helperText:formik.touched.password&&formik.errors.password}),/*#__PURE__*/_jsx(Button,{color:\"primary\",disabled:formik.isSubmitting,variant:\"contained\",fullWidth:true,type:\"submit\",style:{marginTop:20},children:\"Submit\"})]})]});};export default SignUp;","map":{"version":3,"sources":["/Users/nataliasabadysh/Desktop/ReactLessons/lesson3/src/pages/SignUp/SignUpPage.js"],"names":["React","useFormik","yup","Link","useLocation","useHistory","routers","TextField","Button","Typography","createUserAsync","useDispatch","useSelector","validationSchema","object","name","string","required","email","password","min","SignUp","dispatch","errorMessage","state","auth","errorSignUp","onSave","values","history","push","NEWS","path","formik","initialValues","onSubmit","message","border","padding","margin","LOGIN","handleSubmit","handleChange","touched","Boolean","errors","isSubmitting","marginTop"],"mappings":"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","sourcesContent":["// Core\nimport React from \"react\";\nimport { useFormik } from \"formik\";\nimport * as yup from \"yup\";\nimport { Link, useLocation, useHistory } from \"react-router-dom\";\nimport { routers } from \"../../utils/routes\";\n\n// Instruments\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\n\nimport { Typography } from \"@mui/material\";\nimport { createUserAsync } from \"../../redux/auth/actions\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nconst validationSchema = yup.object({\n  name: yup.string(\"Enter your name\").required(\"Name is required\"),\n  email: yup\n    .string(\"Enter your email\")\n    .email(\"Enter a valid email\")\n    .required(\"Email is required\"),\n  password: yup\n    .string(\"Enter your password\")\n    .min(8, \"Password should be of minimum 8 characters length\")\n    .required(\"Password is required\"),\n});\n\nconst SignUp = () => {\n  const dispatch = useDispatch();\n  const errorMessage = useSelector((state) => state.auth.errorSignUp);\n\n  const onSave = (values) => {\n    dispatch(createUserAsync(values));\n\n    if(!errorMessage){\n      history.push(routers.NEWS.path)\n    }\n  }\n\n  const history = useHistory();\n\n  const formik = useFormik({\n    initialValues: {\n      email: \"nata@gmail.com\",\n      name: \"Natasha\",\n      password: \"12345678\",\n    },\n    validationSchema: validationSchema,\n    onSubmit: async (values) => {\n      onSave(values)\n    },\n  });\n\n  return (\n    <div>\n      <Typography variant=\"h3\"> Sign up</Typography>\n\n      {errorMessage && errorMessage.message && (\n        <div style={{ border: \"1px solid red\", padding: 10, margin: 20 }}>\n          {\" \"}\n          {errorMessage.message}\n          <Link to={routers.LOGIN.path}> Go to LogIn page </Link>\n        </div>\n      )}\n\n      <form onSubmit={formik.handleSubmit}>\n        <TextField\n          fullWidth\n          id=\"name\"\n          name=\"name\"\n          label=\"Name\"\n          value={formik.values.name}\n          onChange={formik.handleChange}\n          error={formik.touched.name && Boolean(formik.errors.name)}\n          helperText={formik.touched.name && formik.errors.name}\n        />\n\n        <TextField\n          fullWidth\n          id=\"email\"\n          name=\"email\"\n          label=\"Email\"\n          value={formik.values.email}\n          onChange={formik.handleChange}\n          error={formik.touched.email && Boolean(formik.errors.email)}\n          helperText={formik.touched.email && formik.errors.email}\n        />\n\n        <TextField\n          fullWidth\n          id=\"password\"\n          name=\"password\"\n          label=\"Password\"\n          type=\"password\"\n          value={formik.values.password}\n          onChange={formik.handleChange}\n          error={formik.touched.password && Boolean(formik.errors.password)}\n          helperText={formik.touched.password && formik.errors.password}\n        />\n\n        <Button\n          color=\"primary\"\n          disabled={formik.isSubmitting}\n          variant=\"contained\"\n          fullWidth\n          type=\"submit\"\n          style={{ marginTop: 20 }}\n        >\n          Submit\n        </Button>\n      </form>\n    </div>\n  );\n};\n\nexport default SignUp;\n"]},"metadata":{},"sourceType":"module"}