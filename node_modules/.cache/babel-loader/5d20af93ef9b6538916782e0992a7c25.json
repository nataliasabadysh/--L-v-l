{"ast":null,"code":"// Core\nimport{containerStyle}from\"./theme/styles\";import{useEffect,lazy,Suspense}from\"react\";// import { LogIn } from \"./pages/LogIn/LogIn\";\n// import { SignUp } from \"./pages/SignUp/SignUpPage\";\nimport{Switch,Route,useHistory}from\"react-router-dom\";import{Navigation}from\"./component/Navigation\";import{useDispatch,useSelector}from\"react-redux\";import{singUpUser,singUpUserSuccess}from\"./redux/auth/actions\";import{NewsPage}from\"./pages/NewsPage/NewsPage\";import{routers}from\"./utils/routes\";import{PrivetRouter}from\"./utils/PrivetRouters\";import ClipLoader from\"react-spinners/ClipLoader\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var DashboardAsync=/*#__PURE__*/lazy(function(){return import(/* webpackChunkName: \"Dashboard-Page\" */\"./pages/Dashboard/Dashboard\");});var LogInAsync=/*#__PURE__*/lazy(function(){return import(/* webpackChunkName: \"LogIn-Page\" */\"./pages/LogIn/LogIn\");});var SignUpAsync=/*#__PURE__*/lazy(function(){return import(/* webpackChunkName: \"SignUp-Page\" */\"./pages/SignUp/SignUpPage\");});function App(){var dispatch=useDispatch();var isAuthenticated=useSelector(function(state){return state.auth.isAuthenticated;});var history=useHistory();useEffect(function(){var ls=JSON.parse(localStorage.getItem(\"auth\"));if(ls){dispatch(singUpUser(ls));dispatch(singUpUserSuccess);history.push(routers.NEWS.path);}document.title=\"MOVIE STAR\";},[dispatch]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navigation,{}),/*#__PURE__*/_jsx(\"div\",{style:containerStyle,children:/*#__PURE__*/_jsx(Switch,{children:/*#__PURE__*/_jsxs(Suspense,{fallback:/*#__PURE__*/_jsx(ClipLoader,{color:\"red\",size:150}),children:[!isAuthenticated&&/*#__PURE__*/_jsx(Route,{path:routers.SINGUP.path,component:SignUpAsync}),!isAuthenticated&&/*#__PURE__*/_jsx(Route,{path:routers.LOGIN.path,component:LogInAsync}),/*#__PURE__*/_jsx(PrivetRouter,{isAuthenticated:isAuthenticated,path:routers.NEWS.path,component:NewsPage,redirectTo:routers.LOGIN.path}),/*#__PURE__*/_jsx(PrivetRouter,{isAuthenticated:isAuthenticated,path:routers.DASHBOARD.path,component:DashboardAsync,redirectTo:routers.LOGIN.path})]})})})]});}export default App;","map":{"version":3,"sources":["/Users/nataliasabadysh/Desktop/ReactLessons/lesson3/src/App.js"],"names":["containerStyle","useEffect","lazy","Suspense","Switch","Route","useHistory","Navigation","useDispatch","useSelector","singUpUser","singUpUserSuccess","NewsPage","routers","PrivetRouter","ClipLoader","DashboardAsync","LogInAsync","SignUpAsync","App","dispatch","isAuthenticated","state","auth","history","ls","JSON","parse","localStorage","getItem","push","NEWS","path","document","title","SINGUP","LOGIN","DASHBOARD"],"mappings":"AAAA;AACA,OAASA,cAAT,KAA+B,gBAA/B,CACA,OAASC,SAAT,CAAoBC,IAApB,CAA0BC,QAA1B,KAA0C,OAA1C,CAEA;AACA;AACA,OAASC,MAAT,CAAiBC,KAAjB,CAAwBC,UAAxB,KAA0C,kBAA1C,CACA,OAASC,UAAT,KAA2B,wBAA3B,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,UAAT,CAAqBC,iBAArB,KAA8C,sBAA9C,CACA,OAASC,QAAT,KAAyB,2BAAzB,CACA,OAASC,OAAT,KAAwB,gBAAxB,CACA,OAASC,YAAT,KAA6B,uBAA7B,CACA,MAAOC,CAAAA,UAAP,KAAuB,2BAAvB,C,6IAEA,GAAMC,CAAAA,cAAc,cAAGd,IAAI,CAAC,iBAC1B,QAAO,wCAAyC,6BAAhD,CAD0B,EAAD,CAA3B,CAGA,GAAMe,CAAAA,UAAU,cAAGf,IAAI,CAAC,iBACtB,QAAO,oCAAqC,qBAA5C,CADsB,EAAD,CAAvB,CAGA,GAAMgB,CAAAA,WAAW,cAAGhB,IAAI,CAAC,iBACvB,QAAO,qCAAsC,2BAA7C,CADuB,EAAD,CAAxB,CAIA,QAASiB,CAAAA,GAAT,EAAe,CACb,GAAMC,CAAAA,QAAQ,CAAGZ,WAAW,EAA5B,CACA,GAAMa,CAAAA,eAAe,CAAGZ,WAAW,CAAC,SAACa,KAAD,QAAWA,CAAAA,KAAK,CAACC,IAAN,CAAWF,eAAtB,EAAD,CAAnC,CAEA,GAAMG,CAAAA,OAAO,CAAGlB,UAAU,EAA1B,CAEAL,SAAS,CAAC,UAAM,CACd,GAAMwB,CAAAA,EAAE,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAX,CAEA,GAAIJ,EAAJ,CAAQ,CACNL,QAAQ,CAACV,UAAU,CAACe,EAAD,CAAX,CAAR,CACAL,QAAQ,CAACT,iBAAD,CAAR,CACAa,OAAO,CAACM,IAAR,CAAajB,OAAO,CAACkB,IAAR,CAAaC,IAA1B,EACD,CAEDC,QAAQ,CAACC,KAAT,CAAiB,YAAjB,CACD,CAVQ,CAUN,CAACd,QAAD,CAVM,CAAT,CAYA,mBACE,wCACE,KAAC,UAAD,IADF,cAGE,YAAK,KAAK,CAAEpB,cAAZ,uBACE,KAAC,MAAD,wBACE,MAAC,QAAD,EAAU,QAAQ,cAAE,KAAC,UAAD,EAAY,KAAK,CAAE,KAAnB,CAA0B,IAAI,CAAE,GAAhC,EAApB,WACG,CAACqB,eAAD,eACC,KAAC,KAAD,EAAO,IAAI,CAAER,OAAO,CAACsB,MAAR,CAAeH,IAA5B,CAAkC,SAAS,CAAEd,WAA7C,EAFJ,CAIG,CAACG,eAAD,eAAoB,KAAC,KAAD,EAAO,IAAI,CAAER,OAAO,CAACuB,KAAR,CAAcJ,IAA3B,CAAiC,SAAS,CAAEf,UAA5C,EAJvB,cAME,KAAC,YAAD,EACE,eAAe,CAAEI,eADnB,CAEE,IAAI,CAAER,OAAO,CAACkB,IAAR,CAAaC,IAFrB,CAGE,SAAS,CAAEpB,QAHb,CAIE,UAAU,CAAEC,OAAO,CAACuB,KAAR,CAAcJ,IAJ5B,EANF,cAYE,KAAC,YAAD,EACE,eAAe,CAAEX,eADnB,CAEE,IAAI,CAAER,OAAO,CAACwB,SAAR,CAAkBL,IAF1B,CAGE,SAAS,CAAEhB,cAHb,CAIE,UAAU,CAAEH,OAAO,CAACuB,KAAR,CAAcJ,IAJ5B,EAZF,GADF,EADF,EAHF,GADF,CA6BD,CAED,cAAeb,CAAAA,GAAf","sourcesContent":["// Core\nimport { containerStyle } from \"./theme/styles\";\nimport { useEffect, lazy, Suspense } from \"react\";\n\n// import { LogIn } from \"./pages/LogIn/LogIn\";\n// import { SignUp } from \"./pages/SignUp/SignUpPage\";\nimport { Switch, Route, useHistory } from \"react-router-dom\";\nimport { Navigation } from \"./component/Navigation\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { singUpUser, singUpUserSuccess } from \"./redux/auth/actions\";\nimport { NewsPage } from \"./pages/NewsPage/NewsPage\";\nimport { routers } from \"./utils/routes\";\nimport { PrivetRouter } from \"./utils/PrivetRouters\";\nimport ClipLoader from \"react-spinners/ClipLoader\";\n\nconst DashboardAsync = lazy(() =>\n  import(/* webpackChunkName: \"Dashboard-Page\" */ \"./pages/Dashboard/Dashboard\")\n);\nconst LogInAsync = lazy(() =>\n  import(/* webpackChunkName: \"LogIn-Page\" */ \"./pages/LogIn/LogIn\")\n);\nconst SignUpAsync = lazy(() =>\n  import(/* webpackChunkName: \"SignUp-Page\" */ \"./pages/SignUp/SignUpPage\")\n);\n\nfunction App() {\n  const dispatch = useDispatch();\n  const isAuthenticated = useSelector((state) => state.auth.isAuthenticated);\n\n  const history = useHistory();\n\n  useEffect(() => {\n    const ls = JSON.parse(localStorage.getItem(\"auth\"));\n    \n    if (ls) {\n      dispatch(singUpUser(ls));\n      dispatch(singUpUserSuccess);\n      history.push(routers.NEWS.path)\n    }\n\n    document.title = \"MOVIE STAR\";\n  }, [dispatch]);\n\n  return (\n    <>\n      <Navigation />\n\n      <div style={containerStyle}>\n        <Switch>\n          <Suspense fallback={<ClipLoader color={\"red\"} size={150} />}>\n            {!isAuthenticated && (\n              <Route path={routers.SINGUP.path} component={SignUpAsync} />\n            )}\n            {!isAuthenticated && <Route path={routers.LOGIN.path} component={LogInAsync} />}\n\n            <PrivetRouter\n              isAuthenticated={isAuthenticated}\n              path={routers.NEWS.path}\n              component={NewsPage}\n              redirectTo={routers.LOGIN.path}\n            />\n            <PrivetRouter\n              isAuthenticated={isAuthenticated}\n              path={routers.DASHBOARD.path}\n              component={DashboardAsync}\n              redirectTo={routers.LOGIN.path}\n            />\n          </Suspense>\n        </Switch>\n      </div>\n    </>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}